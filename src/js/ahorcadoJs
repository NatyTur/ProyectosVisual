
    //variables y constantes globales
    const palabrAdivinar = ingresarPalabra();
    let arrCoincidencias = []; 
    let intentos = 6;

    /*El Document método querySelector() devuelve el primer Element dentro del documento
    que coincide con el selector o grupo de 
    selectores especificado. Si no se encuentran coincidencias, devuelve null.*/
    const letra = document.querySelector('input');

    //oninput es un evento que se dispara con cualquier entrada por pantalla
    letra.oninput = function(){
        soloLetras(letra.value, palabrAdivinar, arrCoincidencias);
    };


    

    function ingresarPalabra(){


        const palabra = prompt("Ingresa una palabra para adivinar!");
       
       /*El método split() divide un objeto de tipo String en un array 
        de cadenas.*/
        const arrPalabra = palabra.split("");
        
        console.log(arrPalabra);
        
        /*El getElementById()método de la Document interfaz 
        devuelve un Element objeto que representa el elemento 
        cuya id coincide con la cadena especificada.

        La propiedad Element.innerHTML devuelve 
        o establece la sintaxis HTML*/
        document.getElementById("tablero").innerHTML = `
            <table border="1">
                <tr>
                    ${creaTablero(arrPalabra)}    
                </tr>    
            </table>
        `;
        return arrPalabra;
    };

    

    function creaTablero(arrPalabra){
        let tablero = "";

        /*El método forEach()ejecuta 
        la función indicada una vez por cada elemento del arreglo.*/
        //Función flecha letra(argumento); lo siguiente es el return
        
        arrPalabra.forEach(letra => {
        
            tablero = tablero + "<td> ? </td>";
        });
        return tablero;
    }

    function soloLetras(cadena, palabrAdivinar,arrCoincidencias){

        //El objeto RegExp se utiliza para hacer que solo sean letras.
        const pattern = new RegExp('[a-zA-Z]');
        
        
        console.log(pattern.test(cadena));
        
        /*El test()método:
        Devuelve un valor booleano que indica si existe o no un patrón en una cadena buscada.*/
        if(!pattern.test(cadena)){

            document.querySelector('input').value = "";
            document.getElementById("status").innerHTML = "Solo puedes ingresar letras!!!..";
            return false;

        }else{

            document.getElementById("tablero").innerHTML = `
            <table border="1">
                <tr>
                    ${buscarCoincidencia(cadena,palabrAdivinar,arrCoincidencias)}    
                </tr>    
            </table>
        `;

        //limpia el cuadro de texto para ingresar otra letra
            document.querySelector('input').value = "";
            return true;
        }
    }

    function buscarCoincidencia(letra, arrPalabra,arrCoincidencias){
        let tablero = "";
        let coincidencias = 0;
        let exito = true;

        
        arrPalabra.forEach(caracter => {
            
            //includes sirve para saber si el caracter está en el array, entonces devuelve un true
            

            //if: filtra si el caracter ya fue identificado
            if(arrCoincidencias.includes(caracter)){
                tablero = tablero + "<td>"+ caracter +" </td>";

            /*else if: si no fue identificado guarda el caracter en arrCoincidencias e incrementa coincidencias 
            para registrarlas y luego informar en la función leyendaCoincidencia*/ 
            } else if(caracter == letra){              
                tablero = tablero + "<td>"+ caracter +" </td>"; 
                arrCoincidencias.push(caracter);//push inserta al final del array cada caracter
                coincidencias = coincidencias + 1;
            
            //else: no hubo coincidencia, pongo la variable exito en false para luego evaluar los intentos
            } else{
                tablero = tablero + "<td> ? </td>";
                exito = false;
            }
            
            
            
        });

        leyendaCoincidencia(coincidencias, letra);

        //si no hubo aciertos va perdiendo intentos
        if(coincidencias==0)
        {intentos--;}
        console.log(arrCoincidencias + " " + intentos);//imprimo la letra que coincide e intentos que quedan

        //
        if(exito){ leyendaFelicitaciones(true);}
        else if(intentos==0) {leyendaFelicitaciones(false);}
            
               
        return tablero;
    }

    function leyendaCoincidencia(coincidencias, caracter){
        if(coincidencias > 0){
            document.getElementById("status").innerHTML = `Hubo ${coincidencias} coincidencias con la letra ` + caracter;
        }else{
            document.getElementById("status").innerHTML = `No hubo coinciencias nuevas con la letra ` + caracter + `, te quedan ` + (intentos-1) + ` intentos` ;
        }
    }
    function leyendaFelicitaciones(gano){
        
        if(gano){
            document.getElementById("status").innerHTML = `Felicitaciones. Ganaste!!!`;
        }else{
            document.getElementById("status").innerHTML = `Se acabaron los intentos. Perdiste`;
        }
        
    }

    
    
    